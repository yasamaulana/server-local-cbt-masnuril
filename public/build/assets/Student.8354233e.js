import{L as w}from"./Admin.b51a6280.js";import{H as g,r as x,z as b,a as k,o as e,c as n,b as A,w as S,d as t,e as L,f as v,v as U,t as d,g as p,s as N,F as c,p as m,h as V,i as h}from"./app.8bde5e17.js";import{_ as M}from"./_plugin-vue_export-helper.cdc0426e.js";const B={layout:w,components:{Head:g},props:{errors:Object,attendance:Array,month:String,classrooms:Array},setup(u){const o=x({month:u.month||new URL(document.location).searchParams.get("month"),classroom_id:new URL(document.location).searchParams.get("classroom_id")}),r=()=>{V.Inertia.get("/admin/presence-student",{month:o.month,classroom_id:o.classroom_id})},a=b(()=>{if(!o.month)return[];const[l,_]=o.month.split("-").map(Number);return Array.from({length:new Date(l,_,0).getDate()},(s,i)=>i+1)}),f=b(()=>{const l=new URLSearchParams;return o.month&&l.append("month",o.month),o.classroom_id&&l.append("classroom_id",o.classroom_id),`/admin/presence-student/export?${l.toString()}`});return{form:o,filter:r,daysInMonth:a,exportUrl:f}}},D=t("title",null,"Laporan Absensi - Aplikasi Absensi Online",-1),F={class:"container-fluid mb-5 mt-5"},H={class:"row"},C={class:"col-md-12"},I={class:"card border-0 shadow mb-4"},P={class:"card-body"},R=t("h5",null,[t("i",{class:"fa fa-filter"}),h(" Filter Absensi")],-1),j=t("hr",null,null,-1),E={class:"row"},K={class:"col-md-6"},O=t("label",{class:"control-label",for:"month"},"Bulan",-1),T={key:0,class:"alert alert-danger mt-2"},z={class:"col-md-6"},q=t("label",{class:"control-label",for:"classroom_id"},"Kelas",-1),G=t("option",{value:""},"Semua Kelas",-1),J=["value"],Q={key:0,class:"alert alert-danger mt-2"},W=t("div",{class:"col-md-12 mt-3"},[t("button",{type:"submit",class:"btn btn-md btn-primary border-0 shadow w-100"},[t("i",{class:"fa fa-filter"}),h(" Filter ")])],-1),X={class:"card border-0 shadow"},Y={class:"card-body"},Z={class:"d-flex justify-content-end mb-3"},$=["href"],tt=t("i",{class:"fa fa-download"},null,-1),ot=h(" Export "),st=[tt,ot],et={class:"table-responsive"},nt={class:"table table-bordered"},at=t("th",null,"Nama",-1);function rt(u,o,r,a,f,l){const _=k("Head");return e(),n(c,null,[A(_,null,{default:S(()=>[D]),_:1}),t("div",F,[t("div",H,[t("div",C,[t("div",I,[t("div",P,[R,j,t("form",{onSubmit:o[2]||(o[2]=L((...s)=>a.filter&&a.filter(...s),["prevent"]))},[t("div",E,[t("div",K,[O,v(t("input",{type:"month",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=s=>a.form.month=s)},null,512),[[U,a.form.month]]),r.errors.month?(e(),n("div",T,d(r.errors.month),1)):p("",!0)]),t("div",z,[q,v(t("select",{class:"form-select","onUpdate:modelValue":o[1]||(o[1]=s=>a.form.classroom_id=s)},[G,(e(!0),n(c,null,m(r.classrooms,(s,i)=>(e(),n("option",{key:i,value:s.id},d(s.title),9,J))),128))],512),[[N,a.form.classroom_id]]),r.errors.classroom_id?(e(),n("div",Q,d(r.errors.classroom_id),1)):p("",!0)]),W])],32)])]),t("div",X,[t("div",Y,[t("div",Z,[t("a",{href:a.exportUrl,class:"btn btn-md btn-success border-0 shadow mt-3"},st,8,$)]),t("div",et,[t("table",nt,[t("thead",null,[t("tr",null,[at,(e(!0),n(c,null,m(a.daysInMonth,s=>(e(),n("th",{key:s},d(s),1))),128))])]),t("tbody",null,[(e(!0),n(c,null,m(r.attendance,s=>(e(),n("tr",{key:s.name},[t("td",null,d(s.name),1),(e(!0),n(c,null,m(s.attendance,(i,y)=>(e(),n("td",{key:y},d(i),1))),128))]))),128))])])])])])])])])],64)}const ct=M(B,[["render",rt]]);export{ct as default};
